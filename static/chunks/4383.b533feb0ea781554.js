(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4383],{55764:function(e,t,n){"use strict";n.d(t,{yE:function(){return a},TH:function(){return c},Kn:function(){return u}});var r=n(42828);function a(e){return r.A.request({url:"operationLog/getAll",method:"GET",params:e})}function c(e){return r.A.request({url:"operationLog/addOpreationLog",method:"POST",data:e})}function u(){return r.A.request({url:"operationLog/getIP",method:"GET"})}},74383:function(e,t,n){"use strict";n.r(t);var r=n(11187),a=n(16318),c=n(30266),u=n(809),o=n.n(u),s=n(67294),i=n(91321),l=n(77747),d=n.n(l),f=n(14707),p=n(55764),h=n(85893),x=(0,i.Z)({scriptUrl:"//at.alicdn.com/t/font_2981278_w3q7g6v6x8.js"}),g=function(){return{user:localStorage.getItem("user")||"",IP:localStorage.getItem("userIp")||""}},m=function(){var e=(0,c.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.TH)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=(0,s.useState)([]),n=t[0],u=t[1],i=(0,s.useState)("\u6279\u91cf\u5220\u9664\u8bd5\u9898"),l=i[0],p=i[1],b=e.ModeFlagFun,v=e.clearFun,_=e.loading,j=e.pageTestBank,k=e.Test,B=(0,s.useState)([]),I=B[0],S=B[1];return(0,s.useEffect)((function(){localStorage.getItem("testBankMode")&&"0"!==localStorage.getItem("testBankMode")?u(e.preview_selectedIdData):u(e.selectedIdData)}),[]),(0,s.useEffect)((function(){!function(e,t){var n=[];e.forEach((function(e){t.some((function(t){return e===t.id}))||n.push(e)})),S(n)}(n,k)}),[n,k]),(0,h.jsx)("div",{children:0!==n.length?(0,h.jsxs)("div",{className:d().batchDeleteBox,children:[(0,h.jsxs)("p",{children:[(0,h.jsx)(x,{type:"icon-bangzhu"}),(0,h.jsx)("span",{children:"\u786e\u5b9a\u5220\u9664\u5417\uff1f"})]}),(0,h.jsxs)("div",{className:d().alertButton,children:[(0,h.jsx)("button",{onClick:(0,c.Z)(o().mark((function t(){var n,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(!1);case 2:return t.next=4,v();case 4:return t.next=6,_(!0);case 6:return t.next=8,(0,f.I0)(I);case 8:return n=t.sent,t.next=11,j({pageSize:e.defultNumber,page:e.page});case 11:if(!n){t.next=21;break}return p("\u6279\u91cf\u5220\u9664\u8bd5\u9898"),c="\u5220\u9664\u6210\u529f,\u5171".concat(I.length,"\u6761\u8bb0\u5f55\u88ab\u5220\u9664"),k.forEach((function(e){a.default.warning({message:"\u63d0\u793a",description:"\u8bd5\u5377\u4e2d\u5df2\u5b58\u5728\u8bd5\u9898\uff1a".concat(e.examContent,"\uff0c\u4e0d\u80fd\u5220\u9664\u8bd5\u9898")})})),t.next=17,_(!1);case 17:r.default.success(c),m({operationName:g().user,IPAddress:g().IP,operationType:l,detail:c}),t.next=22;break;case 21:r.default.error("\u5bf9\u4e0d\u8d77\u5220\u9664\u5931\u8d25");case 22:case"end":return t.stop()}}),t)}))),children:"\u786e\u8ba4"}),(0,h.jsx)("button",{onClick:function(){b(!1),r.default.warning("\u5df2\u53d6\u6d88\u5220\u9664")},children:"\u53d6\u6d88"})]})]}):(0,h.jsxs)("div",{className:d().nullBox,children:[(0,h.jsxs)("p",{children:[(0,h.jsx)(x,{type:"icon-chahao"}),(0,h.jsx)("span",{children:"\u8bf7\u5148\u52fe\u9009\u8981\u5220\u9664\u7684\u8bd5\u9898"})]}),(0,h.jsx)("div",{className:d().alertButton,children:(0,h.jsx)("button",{onClick:function(){b(!1)},children:"\u786e\u8ba4"})})]})})}},77747:function(e){e.exports={batchDeleteBox:"batchDelete_batchDeleteBox__4o8GG",alertButton:"batchDelete_alertButton__nbeGS",nullBox:"batchDelete_nullBox__CSamT"}}}]);