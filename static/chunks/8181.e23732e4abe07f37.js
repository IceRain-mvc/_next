(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8181,6256,139],{14707:function(e,t,n){"use strict";n.d(t,{u3:function(){return r},ww:function(){return s},y0:function(){return o},I0:function(){return u},xX:function(){return c},QM:function(){return i},b:function(){return l},J7:function(){return d},fP:function(){return f},CI:function(){return p},YU:function(){return h}});var a=n(42828);function r(e){return a.A.request({url:"testBank/ImportExcelGetTestBank",method:"GET",params:e})}function s(e){return a.A.request({url:"testBank/getExportTest",method:"GET",params:e})}function o(e){return a.A.request({url:"testBank/ImportExcelAdd",method:"POST",data:e})}function u(e){return a.A.request({url:"testBank/batchDelete",method:"DELETE",data:e})}function c(e){return a.A.request({url:"testBank/".concat(e),method:"DELETE"})}function i(e){return a.A.request({url:"testBank/searchRepetitionData",method:"GET",params:e})}function l(e){return a.A.request({url:"testBank/batchAdd",method:"POST",data:e})}function d(e){return a.A.request({url:"testBank/deleteRepetition",method:"POST",data:e})}function f(e){return a.A.request({url:"testBank/batchUpdate",method:"PUT",params:e})}function p(e){return a.A.request({url:"testBank/upDateOne",method:"PUT",data:e})}function h(e){return a.A.request({url:"testBank/getPage",method:"GET",params:e})}},81112:function(e,t,n){"use strict";n.r(t);var a=n(92809),r=n(40037),s=n(7869),o=n.n(s);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(e){for(var t="",n=0;e>0;)n=e%26+1,t=String.fromCharCode(n+64)+t,e=(e-n)/26;return t},l=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),a=0;a!==e.length;++a)n[a]=255&e.charCodeAt(a);return t};t.default=function(e,t,n){e=(0,r.Z)(e);var a=t;e.unshift({});var s=[],u=[];for(var d in a)s.push(d),u.push({wpx:100}),e[0][d]=a[d];a=[],e.map((function(e,t){return s.map((function(n,a){return{rowsvalue:e[n],position:(a>25?i(a):String.fromCharCode(65+a))+(t+1),fontsize:{fontstyle:{long:20,big:!0}}}}))})).reduce((function(e,t){return e.concat(t)})).forEach((function(e){e.rowsvalue=null===e.rowsvalue?" ":e.rowsvalue,a[e.position]={v:e.rowsvalue}}));var f=Object.keys(a),p={SheetNames:[],Sheets:{}},h="sheet1";p.SheetNames.push(h),p.Sheets.sheet1=c(c({},a),{},{"!ref":f[0]+":"+f[f.length-1],"!cols":u});var m=new Blob([l(o().write(p,{bookType:"xlsx",bookSST:!1,type:"binary"}))],{type:""}),x=(new Date).getTime(),g=URL.createObjectURL(m),b=document.createElement("a");b.href=g,b.download="".concat(n,"_").concat(x,".xlsx"),b.click(),setTimeout((function(){URL.revokeObjectURL(m)}),100)}},51525:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var a=n(11187),r=n(30266),s=n(809),o=n.n(s),u=n(67294),c=n(5152),i=n(71450),l=n.n(i),d=n(81112),f=n(14707),p=n(82597),h=n.n(p),m=n(91321),x=n(85893),g=function(e){var t=(0,m.Z)({scriptUrl:"//at.alicdn.com/t/font_2981278_w3q7g6v6x8.js"}),n=e.ModeFlagFun,a=(0,u.useState)([]),s=a[0],c=a[1],i=(0,u.useState)([]),l=i[0],p=i[1];(0,u.useEffect)((function(){localStorage.getItem("testBankMode")&&"0"!==localStorage.getItem("testBankMode")?p(e.preview_exportData):p(e.exportData)}),[]);var g=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.ww)({testIdList:t});case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.default)(t,{questionTypes:"\u9898\u578b",examContent:"\u8bd5\u9898\u5185\u5bb9",options:"\u8bd5\u9898\u9009\u9879",okanswer:"\u7b54\u6848",gradeNum:"\u5206\u6570",examTypes:"\u5206\u7c7b",difficultyLevel:"\u96be\u5ea6",okanalysis:"\u89e3\u6790"},"\u8003\u8bd5\u4e91\u5bfc\u51fa\u8bd5\u9898");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){l.length>0&&g(l)}),[l]),(0,x.jsxs)("div",{className:h().exportalert,children:[(0,x.jsx)("div",{className:h().content,children:l.length<=0?(0,x.jsxs)("div",{className:h().noSelect,children:[(0,x.jsx)(t,{type:"icon-chahao"}),"\u8bf7\u9009\u62e9\u8981\u5bfc\u51fa\u7684\u8bd5\u9898"]}):(0,x.jsxs)("div",{className:h().select,children:[(0,x.jsx)(t,{type:"icon-bangzhu"}),"\u662f\u5426\u5bfc\u51fa ",l.length," \u6761\u8bd5\u9898"]})}),(0,x.jsxs)("div",{className:h().btnbox,children:[(0,x.jsx)("button",{onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length>0)){e.next=6;break}return e.next=3,b(s);case 3:setTimeout((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1);case 1:case"end":return e.stop()}}),e)})))),e.next=7;break;case 6:n(!1);case 7:case"end":return e.stop()}}),e)}))),children:"\u786e\u5b9a"}),(0,x.jsx)("button",{onClick:function(){n(!1)},children:"\u53d6\u6d88"})]})]})},b=n(31518),k=n(16664),v=n(39398),w=n(77123),y=n(52645),S=n(33160),j=(0,c.default)((function(){return n.e(965).then(n.bind(n,30965))}),{loadableGenerated:{webpack:function(){return[30965]},modules:["../src/components/testBank/testBankContent.tsx -> ./resourceQustions/resourceQustions"]}}),B=(0,c.default)((function(){return n.e(1239).then(n.bind(n,71239))}),{loadableGenerated:{webpack:function(){return[71239]},modules:["../src/components/testBank/testBankContent.tsx -> ./importTemplate/importTemplate"]}}),C=(0,c.default)((function(){return Promise.all([n.e(5061),n.e(7272)]).then(n.bind(n,55061))}),{loadableGenerated:{webpack:function(){return[55061]},modules:["../src/components/testBank/testBankContent.tsx -> @/components/TreeType/TreeType"]}}),T=(0,c.default)((function(){return Promise.all([n.e(5061),n.e(8203)]).then(n.bind(n,18886))}),{loadableGenerated:{webpack:function(){return[18886]},modules:["../src/components/testBank/testBankContent.tsx -> ./addExam/addExam"]}}),D=(0,c.default)((function(){return n.e(5900).then(n.bind(n,35900))}),{loadableGenerated:{webpack:function(){return[35900]},modules:["../src/components/testBank/testBankContent.tsx -> ./batchAdd/batchAdd"]}}),F=(0,c.default)((function(){return n.e(1238).then(n.bind(n,41238))}),{loadableGenerated:{webpack:function(){return[41238]},modules:["../src/components/testBank/testBankContent.tsx -> ./batchUpdate/batchUpdate"]}}),_=(0,c.default)((function(){return n.e(4383).then(n.bind(n,74383))}),{loadableGenerated:{webpack:function(){return[74383]},modules:["../src/components/testBank/testBankContent.tsx -> ./batchDelete/batchDelete"]}}),A=(0,c.default)((function(){return n.e(2872).then(n.bind(n,2872))}),{loadableGenerated:{webpack:function(){return[2872]},modules:["../src/components/testBank/testBankContent.tsx -> ./deleteTest/deleteTest"]}}),E=(0,c.default)((function(){return n.e(5036).then(n.bind(n,92625))}),{loadableGenerated:{webpack:function(){return[92625]},modules:["../src/components/testBank/testBankContent.tsx -> @/components/alertCommon/alertCommon"]}}),O=(0,c.default)((function(){return n.e(3714).then(n.bind(n,43714))}),{loadableGenerated:{webpack:function(){return[43714]},modules:["../src/components/testBank/testBankContent.tsx -> ./formFunction/formFunction"]}}),N=(0,c.default)((function(){return n.e(9696).then(n.bind(n,39696))}),{loadableGenerated:{webpack:function(){return[39696]},modules:["../src/components/testBank/testBankContent.tsx -> ./mode/previewMode"]}}),I=(0,c.default)((function(){return n.e(4762).then(n.bind(n,44762))}),{loadableGenerated:{webpack:function(){return[44762]},modules:["../src/components/testBank/testBankContent.tsx -> ./mode/listMode"]}}),P=function(e){var t=e.mode,n=(0,u.useState)([]),s=n[0],c=n[1],i=(0,u.useState)(!1),d=i[0],p=i[1],h=(0,u.useState)(!1),m=h[0],P=h[1],q=(0,u.useState)(!1),Z=q[0],G=q[1],U=(0,u.useState)(""),L=U[0],M=U[1],R=(0,u.useState)(""),z=R[0],Q=R[1],J=(0,u.useState)({}),X=J[0],Y=J[1],H=(0,u.useState)([]),W=H[0],K=H[1],V=(0,u.useState)(0),$=V[0],ee=V[1],te=(0,u.useState)(),ne=te[0],ae=te[1],re=(0,u.useState)(""),se=re[0],oe=re[1],ue=(0,u.useState)(""),ce=ue[0],ie=ue[1],le=(0,u.useState)(""),de=le[0],fe=le[1],pe=(0,u.useState)(void 0),he=pe[0],me=pe[1],xe=(0,u.useState)(""),ge=xe[0],be=xe[1],ke=(0,u.useState)("0"),ve=ke[0],we=ke[1],ye=(0,u.useState)([]),Se=ye[0],je=ye[1],Be=(0,u.useState)([]),Ce=Be[0],Te=Be[1],De=(0,u.useState)([]),Fe=De[0],_e=De[1],Ae=(0,u.useState)([]),Ee=Ae[0],Oe=Ae[1],Ne=(0,u.useState)(!0),Ie=Ne[0],Pe=Ne[1],qe=(0,u.useState)(10),Ze=qe[0],Ge=qe[1],Ue=(0,u.useState)(1),Le=Ue[0],Me=Ue[1],Re=(0,u.useState)(""),ze=Re[0],Qe=Re[1],Je=(0,u.useState)(!1),Xe=Je[0],Ye=Je[1],He=(0,u.useState)([]),We=He[0],Ke=He[1];var Ve=function(){Oe([]),_e([])};(0,u.useEffect)((function(){Ve()}),[Le,t]);var $e=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(!0),e.next=3,(0,f.YU)(t).then((function(e){var t=e.data[0].map((function(e){var t;return e.createAt=(t=e.createAt,new Date(+new Date(t)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")),e}));t&&(K(t),ee(e.data[1]),Pe(!1))})).catch((function(){console.log()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=(0,r.Z)(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(n=t.time,a=t.level,ae(n),oe(a),$e({time:n,textDifficulty:a,textclassify:he,textSearch:ce,textType:de})):$e({textclassify:he,textSearch:ce,textType:de}),Me(1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){P(!1),setTimeout((function(){P(!0)})),Y({})};(0,u.useEffect)((function(){$e({})}),[]);var nt=(0,x.jsx)(C,{type:"question",getCurrentAndAncestorsTitles:function(e,t){var n=e.lastIndexOf("/");be(e.slice(n+1)),me(t),$e(4===t?{textSearch:ce,textType:de,textDifficulty:se,time:ne}:{textclassify:t,textSearch:ce,textType:de,textDifficulty:se,time:ne}),Me(1)},checkoutDepartment:!1}),at=(0,x.jsxs)("div",{children:[(0,x.jsx)(k.Z,{}),""===ge?"\u8bd5\u9898\u5206\u7c7b":ge,(0,x.jsx)(v.Z,{})]}),rt=function(e){P(e),c([]),e||Y({})},st=[{title:"\u9898\u578b",dataIndex:"questionTypes",sorter:!0,width:"7%",ellipsis:!0},{title:"\u8bd5\u9898\u5185\u5bb9",dataIndex:"examContent",sorter:!0,ellipsis:!0,width:"30%"},{title:"\u7b54\u6848",dataIndex:"okanswer",sorter:!0,width:"10%",ellipsis:!0},{title:"\u8bd5\u9898\u5206\u7c7b",dataIndex:"examTypes",sorter:!0,width:"13%",ellipsis:!0},{title:"\u96be\u5ea6",dataIndex:"difficultyLevel",sorter:!0,width:"10%",ellipsis:!0},{title:"\u5206\u6570",dataIndex:"gradeNum",width:"6%",sorter:!0,ellipsis:!0},{title:"\u521b\u5efa\u65e5\u671f",dataIndex:"createAt",width:"15%",sorter:!0,ellipsis:!0,defaultSortOrder:"descend"},{title:"\u64cd\u4f5c",key:"action",width:"10%",ellipsis:!0,render:function(e,t){return(0,x.jsxs)("div",{className:l().handle,children:[(0,x.jsx)("span",{style:{padding:"0 15px",cursor:"pointer"},onClick:function(){t.paperBigQuestions&&t.paperBigQuestions.length>0?a.default.warning("\u8be5\u8bd5\u9898\u5df2\u5728\u8003\u8bd5\u4e2d\u88ab\u521b\u5efa\uff0c\u56e0\u6b64\u65e0\u6cd5\u64cd\u4f5c\u8bf7\u5728\u8003\u8bd5\u4e2d\u5220\u9664\u518d\u8fdb\u884c\u64cd\u4f5c"):(Y(t),Q("questionAdd"),P(!0),M("\u7f16\u8f91\u8bd5\u9898"))},children:(0,x.jsx)(w.Z,{})}),(0,x.jsx)("span",{style:{cursor:"pointer"},onClick:function(){t.paperBigQuestions.length>0?a.default.warn("\u6b64\u8bd5\u9898\u5df2\u5728\u8bd5\u5377\u4e2d\u4f7f\u7528\uff0c\u8bf7\u5728\u8bd5\u5377\u4e2d\u5220\u9664\u6b64\u9898\u540e\u518d\u8fdb\u884c\u64cd\u4f5c\uff01"):(Q("delete"),G(!0),M("\u63d0\u793a"),we(t.id))},children:(0,x.jsx)(y.Z,{})})]})}}],ot=function(){var e=(0,r.Z)(o().mark((function e(t,n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(!0),a=n.order&&"ascend"!==n.order?"DESC":"ASC",e.next=4,$e({page:t.current,pageSize:t.pageSize,field:n.field,order:a,textclassify:he,textSearch:ce,textType:de,textDifficulty:se,time:ne});case 4:Ge(t.pageSize),Me(t.current),Pe(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(e){if(e){var t=JSON.parse(JSON.stringify(s));t.push(e),c(t)}},ct=function(e){c(e)};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:l().nav,children:[(0,x.jsxs)("div",{className:l().navLeft,style:{position:"relative"},id:"myselets",children:[(0,x.jsx)(b.PopoverPosition,{placement:"bottomLeft",title:at,style:he?{backgroundColor:"rgb(58, 140, 131)",color:"white"}:{backgroundColor:""},children:nt}),(0,x.jsx)(b.SearchCommon,{clearFlag:Xe,onCliCk:function(e){ie(e),$e({textclassify:he,textType:de,textDifficulty:se,time:ne,textSearch:e}),Me(1)},style:{width:"34%"}}),(0,x.jsx)(b.SelectPosition,{onChange:function(e){Qe(e),fe(e),$e({textclassify:he,textSearch:ce,textType:e,textDifficulty:se,time:ne}),Me(1)},data:["\u6240\u6709\u9898\u578b","\u5355\u9009\u9898","\u591a\u9009\u9898","\u5224\u65ad\u9898","\u586b\u7a7a\u9898","\u95ee\u7b54\u9898"],style:{margin:"0 0 0 5px",width:"21%"},value:ze}),(0,x.jsxs)(b.ButtonCommon,{onClick:function(){p(!d)},type:"none",style:{margin:"0 5px"},children:["\u66f4\u591a\u67e5\u8be2",(0,x.jsx)(v.Z,{})]}),(0,x.jsx)(b.ButtonCommon,{type:"none",onClick:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qe("\u6240\u6709\u9898\u578b"),Ye(!Xe),be("\u8bd5\u9898\u5206\u7c7b"),p(!1),Me(1),Ge(8),ae(""),oe(""),ie(""),fe(""),me(null),$e({});case 12:case"end":return e.stop()}}),e)}))),children:(0,x.jsx)(S.Z,{})})]}),(0,x.jsx)(O,{alertContentFun:Q,alertFlagFun:P,alertTitleFun:M,ModeFlagFun:G})]}),d&&(0,x.jsx)(b.FormCommon,{labelName:["date","select"],title:["\u521b\u5efa\u65f6\u95f4","\u96be\u5ea6"],keyData:["time","level"],selectData:["\u5168\u90e8","\u4e0d\u9650\u96be\u5ea6","\u5bb9\u6613","\u4e2d\u7b49","\u56f0\u96be"],onFinish:et}),(0,x.jsx)("div",{className:l().table,children:"\u5217\u8868\u6a21\u5f0f"===e.mode?(0,x.jsx)(I,{defultNumber:Ze,page:Le,datas:W,dataCounts:$,columns:st,loadings:Ie,selectChange:function(e,t){var n=[];t.forEach((function(e){e.paperBigQuestions.length>0&&n.push(e)})),Ke(n),je(t),Te(e)},changeTable:ot}):(0,x.jsx)(N,{defultNumber:Ze,page:Le,defultNumberFun:Ge,pageFun:Me,pageTestBank:$e,dataCount:$,data:W,judge:Y,alertFlag:P,alertTitle:M,alertContent:Q,modeFlag:G,nowId:we,selectedIdDataChange:Oe,selectDataChange:_e,selectedIdData:Ee,selectData:Fe,setTest:Ke,loading:Ie,setloading:Pe})}),(0,x.jsx)(j,{dialogOpt:L,alertStatus:m,changeAlertFlag:rt,closeCallBack:function(){$e({pageSize:Ze,page:Le})},xFlag:s,children:function(){switch(z){case"batchAdd":return(0,x.jsx)(D,{pageTestBank:$e,defultNumber:Ze,page:Le,changeAlertFlag:rt,getData:ut});case"questionAdd":return(0,x.jsx)(T,{Judge:X,changeAlertFlag:rt,DataChange:$e,ReturnAddExamData:ut,saveAndAddFun:tt});case"batchImport":return(0,x.jsx)(B,{changeAlertFlag:rt,pageTestBank:$e,defultNumber:Ze,page:Le,backData:ct});default:return(0,x.jsx)("div",{})}}()}),(0,x.jsx)(E,{alertStatus:Z,changeAlertFlag:G,enableDrag:!0,alertTitle:L,children:function(){switch(z){case"exportExport":return(0,x.jsx)(g,{ModeFlagFun:G,exportData:Ce,preview_exportData:Ee});case"batchDelete":return(0,x.jsx)(_,{loading:Pe,ModeFlagFun:G,selectedIdData:Ce,preview_selectedIdData:Ee,clearFun:Ve,defultNumber:Ze,page:Le,pageTestBank:$e,dataCount:$,PageFun:Me,Test:We});case"batchUpdate":return(0,x.jsx)(F,{ModeFlagFun:G,selectedData:Se,preview_changeData:Fe,defultNumber:Ze,page:Le,pageTestBank:$e});case"delete":return(0,x.jsx)(A,{ModeFlagFun:G,nowId:ve,clearFun:Ve,defultNumber:Ze,page:Le,pageTestBank:$e});default:return(0,x.jsx)("div",{})}}()})]})}},42828:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var a=n(11187),r=n(9669),s=n.n(r),o=n(11163),u=["login","register"],c=s().create({baseURL:"http://110.40.139.133:4001/api/v1",timeout:1e5});c.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(){throw new Error("\u53d1\u8d77\u8bf7\u6c42\u51fa\u9519")})),c.interceptors.response.use((function(e){if(e.status&&200===e.status&&"error"===e.data.status)return a.default.error({message:e.data.msg}),null;var t=e.data;return t.success?t.data:(a.default.error(t.msg),null)}),(function(e){if(e&&e.response&&e.response.status){switch(e.response.status){case 504:case 404:a.default.error("\u670d\u52a1\u5668\u5f02\u5e38");break;case 403:a.default.warn("\u8bbf\u5ba2\u65e0\u6743\u8fdb\u884c\u8be5\u64cd\u4f5c");break;case 401:a.default.info("\u8bf7\u91cd\u65b0\u767b\u5f55"),function(){var e=o.default.pathname,t=o.default.asPath;u.some((function(t){return e.includes(t)}))||(u.some((function(e){return t.includes(e)}))?o.default.push("/login"):o.default.push("/login?redirect=".concat(t)))}();break;case 422:a.default.info("\u4e0a\u4f20\u6210\u529f");break;case 500:a.default.info("\u670d\u52a1\u5668\u5185\u90e8\u51fa\u9519");break;default:a.default.error(e.response&&e.response.data&&e.response.data.msg||"\u672a\u77e5\u9519\u8bef!")}}return Promise.reject(e)}))},82597:function(e){e.exports={exportalert:"exportExcelFile_exportalert___XBqi",content:"exportExcelFile_content__plZpH",noSelect:"exportExcelFile_noSelect__yWPwR",select:"exportExcelFile_select__S8_Nj",btnbox:"exportExcelFile_btnbox__kT3pN"}},71450:function(e){e.exports={nav:"testBankContent_nav__4MRlu",header:"testBankContent_header__ojouR",navLeft:"testBankContent_navLeft__vBR0t",table:"testBankContent_table__CjBco"}},18685:function(){},20067:function(){},55382:function(){},72095:function(){},72061:function(){},91298:function(){}}]);