(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4304],{64304:function(e,t,n){"use strict";n.r(t);var a=n(89552),r=n(51024),c=n(92809),s=n(11187),i=n(30266),l=n(809),u=n.n(l),d=n(91321),o=n(67294),p=n(67054),m=n.n(p),f=n(12978),h=n(85893);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.default=function(e){var t=e.obtainData,n=e.chapterItem,l=e.clearContents,p=(0,o.useRef)(null),x=(0,o.useRef)(null),_=(0,o.useState)(!1),b=_[0],v=_[1],N=(0,o.useState)("none"),g=N[0],D=N[1],k=(0,o.useState)("icon-jia"),y=k[0],w=k[1],C=(0,o.useState)((0,h.jsx)("p",{children:"\u8bf7\u9009\u62e9MD\u683c\u5f0f\u6587\u6863"})),O=C[0],S=C[1],P=(0,o.useState)((0,h.jsx)("p",{children:"(\u5176\u5b83\u7c7b\u578b\u6587\u6863\u8bf7\u5148\u8f6cMD)"})),M=P[0],E=P[1],T=(0,o.useState)(!1),F=T[0],z=T[1],A=(0,o.useState)(n?n.serialName:""),R=A[0],V=A[1],U=(0,o.useState)(n?String(n.serialTime):"60"),W=U[0],Z=U[1],B=(0,o.useState)(n?n.fileName:""),I=B[0],K=B[1],X=(0,o.useState)(n&&n.fileAddressMd?n.fileAddressMd:""),J=X[0],L=X[1],Y=(0,d.Z)({scriptUrl:"//at.alicdn.com/t/font_2992472_6nj24f81zbp.js"}),$=function(){var e=(0,i.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:if(n.name.includes("md")){e.next=6;break}return s.default.warning("\u8bf7\u4e0a\u4f20MD\u683c\u5f0f\u6587\u4ef6"),e.abrupt("return");case 6:if(!(n.size>10485760)){e.next=9;break}return s.default.warning("\u8bfe\u7a0b\u4f53\u9a8c\u8bd5\u7528\uff0c\u5355\u4e2a\u6587\u4ef6\u4e0d\u80fd\u8d85\u8fc710M"),e.abrupt("return");case 9:return D("block"),v(!0),e.next=13,(0,f.R)(n.name,n);case 13:a=e.sent,D("none"),w("icon-md"),S((0,h.jsx)("p",{children:n.name})),E((0,h.jsxs)("p",{children:[(0,h.jsx)(Y,{type:"icon-chenggong"}),"\u4e0a\u4f20\u6210\u529f"]})),z(!0),K(n.name),L(a[1].uploadUrl),a[0]&&s.default.success("\u4e0a\u4f20\u6210\u529f");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e.serialName=R,/^\d+$/.test(W)?e.serialTime=Number(W):e.serialTime=0,e.fileName=I,e.fileAddressMd=J,t(e),function(){}}),[R,W,I,J]),(0,o.useEffect)((function(){n&&n.fileName&&n.fileAddressMd&&(v(!0),w("icon-md"),S((0,h.jsx)("p",{children:n.fileName})),E((0,h.jsxs)("p",{children:[(0,h.jsx)(Y,{type:"icon-chenggong"}),"\u4e0a\u4f20\u6210\u529f"]})),z(!0))}),[]),(0,o.useEffect)((function(){l&&(V(""),Z("60"),w("icon-jia"),S((0,h.jsx)("p",{children:"\u8bf7\u9009\u62e9MD\u683c\u5f0f\u6587\u6863"})),E((0,h.jsx)("p",{children:"(\u5176\u5b83\u7c7b\u578b\u6587\u6863\u8bf7\u5148\u8f6cMD)"})),z(!1),K(""),L(""),v(!1))}),[l]),(0,h.jsxs)("div",{className:m().articleContent,children:[(0,h.jsxs)("div",{className:m().chapter,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"*"})," \u6587\u7ae0\u540d\u79f0"]}),(0,h.jsx)("div",{className:m().chapterName,children:(0,h.jsx)(r.default,{placeholder:"\u8bf7\u8f93\u5165\u7ae0\u8282\u540d\u79f0...",value:R,onChange:function(e){V(e.target.value)}})})]}),(0,h.jsxs)("div",{className:m().chapter,children:[(0,h.jsx)("div",{children:"\u7ae0\u8282\u5b66\u65f6"}),(0,h.jsx)("div",{className:m().chapterTime,children:(0,h.jsx)(r.default,{defaultValue:60,value:W,onChange:function(e){Z(e.target.value)}})}),(0,h.jsx)("div",{className:m().unit,children:"\u5206\u949f"})]}),(0,h.jsxs)("div",{className:m().article,children:[(0,h.jsx)("div",{className:m().Center,children:"\u4e0a\u4f20\u6587\u4ef6"}),(0,h.jsxs)("div",{className:m().markdown,onClick:function(){p.current.click()},children:[F?(0,h.jsx)("div",{className:m().cancel,onClick:function(e){s.default.success("\u5df2\u53d6\u6d88"),e||e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0,w("icon-jia"),S((0,h.jsx)("p",{children:"\u8bf7\u9009\u62e9MD\u683c\u5f0f\u6587\u6863"})),E((0,h.jsx)("p",{children:"(\u5176\u5b83\u7c7b\u578b\u6587\u6863\u8bf7\u5148\u8f6cMD)"})),z(!1),K(""),L(""),v(!1)},children:"x"}):null,(0,h.jsx)("div",{className:m().addFile,children:(0,h.jsx)(Y,{style:{fontSize:"45px"},type:y})}),O,M,(0,h.jsxs)("div",{className:m().mask,ref:x,style:{display:"".concat(g)},children:[(0,h.jsx)("div",{className:m().addFile,children:(0,h.jsx)(a.default,{size:"large"})}),(0,h.jsx)("p",{className:m().uploadP,children:"\u6b63\u5728\u4e0a\u4f20..."})]})]})]}),(0,h.jsx)("input",{disabled:b,type:"file",accept:".md",className:m().submit,ref:p,onChange:$})]})}},67054:function(e){e.exports={articleContent:"uploadDocument_articleContent__1kPSh",chapter:"uploadDocument_chapter__zONCK",chapterName:"uploadDocument_chapterName__RIBWJ",chapterTime:"uploadDocument_chapterTime__gjepP",article:"uploadDocument_article__nWSVT",Center:"uploadDocument_Center__cbFLE",markdown:"uploadDocument_markdown__1MSCV",addFile:"uploadDocument_addFile__X1NjU",submit:"uploadDocument_submit__pVwdC",mask:"uploadDocument_mask__mWXrj",uploadP:"uploadDocument_uploadP__KFnfC",cancel:"uploadDocument_cancel__YMSDr"}}}]);