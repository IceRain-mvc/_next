(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6516],{41417:function(e,t,r){"use strict";r.d(t,{Dm:function(){return n},VK:function(){return c},a4:function(){return s},nG:function(){return u},zZ:function(){return i},kM:function(){return l},v4:function(){return o},bP:function(){return d},VF:function(){return h},np:function(){return x}});var a=r(42828);function n(){return a.A.request({url:"/participation-way/getExamList",method:"GET"})}function c(e){return a.A.request({url:"/exam",method:"POST",data:e})}function s(e){return a.A.request({url:"/students/get-message",method:"GET",params:e})}function u(e){return a.A.request({url:"/exam/this-exam/"+e,method:"GET"})}function i(e){return a.A.request({url:"/exam/update-exam",method:"PUT",data:e})}function l(){return a.A.request({url:"/exercise-way/getExamList",method:"GET"})}function o(e){return a.A.request({url:"/students/student-exist",method:"GET",params:e})}function d(e){return a.A.request({url:"/exercise",method:"POST",data:e})}function h(e){return a.A.request({url:"/exercise/update-exercise",method:"PUT",data:e})}function x(e){return a.A.request({url:"/exercise/this-exercise/"+e,method:"GET"})}},66516:function(e,t,r){"use strict";r.r(t);var a=r(31059),n=r(65400),c=r(74048),s=r(64713),u=r(11187),i=r(30266),l=r(51024),o=r(809),d=r.n(o),h=r(20290),x=r(67294),f=r(11163),m=r(15922),p=r.n(m),v=r(41417),j=r(85893);t.default=function(e){var t=e.saveSetting,r=e.courseId,o=e.courseName,m=(l.default.Search,(0,x.useState)("60")),g=m[0],N=m[1],S=(0,x.useState)("2000.0"),C=S[0],k=S[1],w=(0,x.useState)(1),y=w[0],_=w[1],A=(0,x.useState)(""),T=A[0],E=A[1],I=(0,x.useState)(0),U=I[0],q=I[1],G=(0,x.useState)(1),b=G[0],L=G[1],P=(0,x.useState)(!1),W=P[0],V=P[1],D=(0,x.useState)(!1),H=D[0],Z=D[1],K=(0,x.useState)(!1),O=K[0],F=K[1],M=(0,x.useState)(!1),X=M[0],z=M[1],J=(0,x.useState)(!1),R=J[0],B=J[1],Q=(0,x.useState)(""),Y=(Q[0],Q[1]),$=(0,x.useState)("\u521b\u5efa\u8003\u8bd5"),ee=$[0],te=$[1],re=(0,f.useRouter)();re.query;(0,x.useEffect)((function(){console.log(r),(0,i.Z)(d().mark((function e(){var t,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=26;break}return e.next=3,(0,h.UX)({courseId:r});case 3:if(t=e.sent,console.log(t),N("".concat(t.coursePeriod)),k(t.courseCreditHour),_(t.courseCompleteCondition),console.log(t.examId),""===t.examId){e.next=18;break}return e.next=12,(0,v.nG)(t.examId);case 12:a=e.sent,console.log(a),E(a.examTitle),te("\u7f16\u8f91\u8003\u8bd5"),e.next=20;break;case 18:E(""),te("\u521b\u5efa\u8003\u8bd5");case 20:q(t.courseSetUp),L(t.courseLearningTerminal),0===t.courseAnswer&&V(!0),0===t.courseComment&&Z(!0),0===t.courseWechat?(F(!1),z(!1)):1===t.courseWechat?(F(!0),z(!1)):2===t.courseWechat?(F(!1),z(!0)):3===t.courseWechat&&(F(!0),z(!0)),0===t.courseAudit&&B(!0);case 26:case"end":return e.stop()}}),e)})))()}),[r]),(0,x.useEffect)((function(){(0,i.Z)(d().mark((function e(){var r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.VK)({examTitle:o});case 2:r=e.sent,a={coursePeriod:Number(g),courseAnswer:!0===W?0:1,courseComment:!0===H?0:1,courseCompleteCondition:y,courseExam:T,courseSetUp:U,courseLearningTerminal:b,courseWechat:!1===O&&!1===X?0:!0===O&&!0===X?3:!0===O?1:!0===X?2:0,courseAudit:!0===R?0:1,courseCreditHour:C,examId:r.exam.examId},console.log(a),t(a);case 6:case"end":return e.stop()}}),e)})))()}),[R,W,H,y,g,C,U,X,b]),(0,x.useEffect)((function(){2===y&&""===T&&u.default.warning("\u63d0\u793a\uff1a\u8bf7\u521b\u5efa\u8bfe\u7a0b\u8003\u8bd5")}),[y,T]);var ae=function(){var e=(0,i.Z)(d().mark((function e(){var t,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.VK)({examTitle:o});case 2:t=e.sent,Y(t.exam.examId),a={coursePeriod:Number(g),courseAnswer:!0===W?0:1,courseComment:!0===H?0:1,courseCompleteCondition:y,courseExam:T,courseSetUp:U,courseLearningTerminal:b,courseWechat:!1===O&&!1===X?0:!0===O&&!0===X?3:!0===O?1:!0===X?2:0,courseAudit:!0===R?0:1,courseCreditHour:C,examId:t.exam.examId},(0,h.X0)({courseId:r,data:a}),re.push({pathname:"/exam/createCrew",query:{examId:t.exam.examId}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)("div",{className:p().corseSetUp,children:[(0,j.jsxs)("div",{className:p().chapter,children:[(0,j.jsx)("div",{className:p().title,children:"\u8bfe\u7a0b\u5b8c\u6210\u6761\u4ef6"}),(0,j.jsx)("div",{className:p().chapterName,children:(0,j.jsx)(s.default.Group,{onChange:function(e){_(e.target.value)},value:y,children:(0,j.jsxs)(c.default,{direction:"vertical",children:[(0,j.jsx)(s.default,{value:0,children:"\u65e0\u5b8c\u6210\u6761\u4ef6\uff1a\u5b66\u5458\u81ea\u7531\u5b66\u4e60(\u4e0d\u9650\u5b66\u5458\u5b66\u4e60\u65f6\u95f4)"}),(0,j.jsx)(s.default,{value:1,children:"\u8fbe\u5230\u8bfe\u7a0b\u5b66\u65f6\uff1a\u5b66\u5458\u8fbe\u5230\u5b66\u4e60\u65f6\u957f"}),(0,j.jsx)(s.default,{value:2,children:"\u901a\u8fc7\u8bfe\u7a0b\u8003\u8bd5\uff1a\u5b66\u5458\u8fbe\u5230\u5b66\u4e60\u65f6\u957f,\u5e76\u901a\u8fc7\u8bfe\u7a0b\u8003\u8bd5"})]})})})]}),2===y?(0,j.jsxs)("div",{className:p().chapter,children:[(0,j.jsx)("div",{className:p().title}),(0,j.jsx)("div",{className:p().chapterName,children:(0,j.jsxs)(l.default.Group,{compact:!0,children:[(0,j.jsx)(l.default,{style:{width:"calc(100% - 320px)"},readOnly:!0,value:T,placeholder:"\u8bf7\u521b\u5efa\u8bfe\u7a0b\u8003\u8bd5..."}),(0,j.jsx)(n.default,{type:"primary",onClick:ae,children:ee})]})})]}):null,1===y||2===y?(0,j.jsxs)("div",{className:p().chapter,children:[(0,j.jsx)("div",{className:p().title,children:"\u5b66\u65f6\u8bbe\u7f6e"}),(0,j.jsx)("div",{className:p().chapterName,children:(0,j.jsx)(s.default.Group,{onChange:function(e){q(e.target.value)},value:U,children:(0,j.jsxs)(c.default,{direction:"vertical",children:[(0,j.jsxs)(s.default,{value:0,children:["\u8fbe\u5230\u8bfe\u7a0b\u603b\u5b66\u65f6\uff1a\u5b66\u5458\u5b66\u4e60\u65f6\u957f\u987b\u8d85\u8fc7",(0,j.jsx)(l.default,{style:{width:"50px"},value:g,onChange:function(e){N(e.target.value)}}),"\u5206\u949f"]}),(0,j.jsx)(s.default,{value:1,children:"\u8fbe\u5230\u6bcf\u5f20\u5b66\u65f6\uff1a\u5b66\u5458\u987b\u5b8c\u6210\u6240\u6709\u7ae0\u8282\u5e76\u8fbe\u5230\u6bcf\u7ae0\u8bbe\u5b9a\u5b66\u65f6"})]})})})]}):null,(0,j.jsxs)("div",{className:p().chapter,children:[(0,j.jsx)("div",{className:p().title,children:"\u5b66\u4e60\u7ec8\u7aef"}),(0,j.jsx)("div",{className:p().chapterName,children:(0,j.jsx)(s.default.Group,{onChange:function(e){L(e.target.value)},value:b,children:(0,j.jsxs)(c.default,{direction:"vertical",children:[(0,j.jsx)(s.default,{value:0,children:"\u4e0d\u9650\u5236(\u6240\u6709\u7ec8\u7aef\u53ef\u5b66\u4e60)"}),(0,j.jsx)(s.default,{value:1,children:"\u4ec5\u9650\u7535\u8111\u7aef\u5b66\u4e60"}),(0,j.jsx)(s.default,{value:2,children:"\u4ec5\u9650\u624b\u673a\u7aef\u5b66\u4e60(\u8bfe\u4ef6\u4fdd\u62a4)"}),2===b?(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,j.jsx)(a.default,{onChange:function(e){F(e.target.checked)},checked:O,style:{paddingLeft:"15px"},children:"\u542f\u7528\u8bfe\u7a0b\u7b54\u7591(\u5b66\u5458\u5411\u8001\u5e08\u63d0\u95ee)"}),(0,j.jsx)(a.default,{onChange:function(e){z(e.target.checked)},checked:X,style:{paddingLeft:"15px",marginLeft:"0px"},children:"\u542f\u7528\u8bfe\u7a0b\u7b54\u7591(\u5b66\u5458\u5411\u8001\u5e08\u63d0\u95ee)"})]}):null]})})})]}),(0,j.jsxs)("div",{className:p().chapter,children:[(0,j.jsx)("div",{className:p().title,children:"\u8ba8\u8bba\u7b54\u7591"}),(0,j.jsxs)("div",{className:p().chapterName,style:{display:"flex",flexDirection:"column"},children:[(0,j.jsx)(a.default,{onChange:function(e){V(e.target.checked)},checked:W,children:"\u542f\u7528\u8bfe\u7a0b\u7b54\u7591(\u5b66\u5458\u5411\u8001\u5e08\u63d0\u95ee)"}),(0,j.jsx)(a.default,{onChange:function(e){Z(e.target.checked)},checked:H,style:{marginLeft:"0px"},children:"\u5141\u8bb8\u5b66\u5458\u8fdb\u884c\u8bfe\u7a0b\u8bc4\u8bba\u56de\u590d"}),!0===H?(0,j.jsx)(a.default,{style:{paddingLeft:"15px"},onChange:function(e){B(e.target.checked)},checked:R,children:"\u8bfe\u7a0b\u8bc4\u8bba\u53ca\u56de\u590d\u9700\u8981\u540e\u53f0\u4eba\u5de5\u5ba1\u6838\u540e\u663e\u793a"}):null]})]}),(0,j.jsxs)("div",{className:p().chapter,children:[(0,j.jsx)("div",{className:p().title,children:"\u8bfe\u7a0b\u5b66\u5206"}),(0,j.jsx)("div",{className:p().chapterName,children:(0,j.jsx)(l.default,{placeholder:"\u5b8c\u6210\u8bfe\u7a0b\u540e\u53ef\u83b7\u5f97\u5b66\u5206",value:C,onChange:function(e){k(e.target.value)},style:{width:"40%"}})})]})]})}},15922:function(e){e.exports={corseSetUp:"courseSetUp_corseSetUp__uwEDv",chapter:"courseSetUp_chapter__FftsT",title:"courseSetUp_title__AkJ6r",chapterName:"courseSetUp_chapterName__ssNHM","ant-checkbox-group":"courseSetUp_ant-checkbox-group__337IV"}}}]);