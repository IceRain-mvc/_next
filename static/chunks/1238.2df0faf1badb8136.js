(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1238],{60366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}},60353:function(e,t,n){"use strict";var a=n(95318),r=n(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(34575)),c=a(n(93913)),s=a(n(2205)),l=a(n(99842)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=o?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(a,c,s):a[c]=e[c]}a.default=e,n&&n.set(e,a);return a}(n(67294)),i=a(n(4863));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var p=function(e){(0,s.default)(n,e);var t=(0,l.default)(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,c.default)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,a=e.children,r=this.state,o=r.error,c=r.info,s=c&&c.componentStack?c.componentStack:null,l="undefined"===typeof t?(o||"").toString():t,d="undefined"===typeof n?s:n;return o?u.createElement(i.default,{type:"error",message:l,description:u.createElement("pre",null,d)}):a}}]),n}(u.Component);t.default=p},4863:function(e,t,n){"use strict";var a=n(95318),r=n(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(67154)),c=a(n(59713)),s=a(n(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=o?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(a,c,s):a[c]=e[c]}a.default=e,n&&n.set(e,a);return a}(n(67294)),u=a(n(40753)),i=a(n(67996)),d=a(n(67039)),p=a(n(93201)),f=a(n(74337)),m=a(n(37431)),h=a(n(42461)),x=a(n(94354)),b=a(n(42547)),v=a(n(93481)),j=a(n(94184)),g=n(31929),y=a(n(60366)),k=a(n(60353)),_=n(47419);function B(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}var N=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},w={success:m.default,info:x.default,error:b.default,warning:h.default},O={success:i.default,info:p.default,error:f.default,warning:d.default},C=function(e){var t,n=e.description,a=e.prefixCls,r=e.message,i=e.banner,d=e.className,p=void 0===d?"":d,f=e.style,m=e.onMouseEnter,h=e.onMouseLeave,x=e.onClick,b=e.afterClose,k=e.showIcon,B=e.closable,C=e.closeText,P=e.action,S=N(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),E=l.useState(!1),M=(0,s.default)(E,2),U=M[0],T=M[1],I=l.useRef(),L=l.useContext(g.ConfigContext),A=L.getPrefixCls,D=L.direction,G=A("alert",a),W=function(e){var t;T(!0),null===(t=S.onClose)||void 0===t||t.call(S,e)},Z=!!C||B,H=function(){var e=S.type;return void 0!==e?e:i?"warning":"info"}(),q=!(!i||void 0!==k)||k,F=(0,j.default)(G,"".concat(G,"-").concat(H),(t={},(0,c.default)(t,"".concat(G,"-with-description"),!!n),(0,c.default)(t,"".concat(G,"-no-icon"),!q),(0,c.default)(t,"".concat(G,"-banner"),!!i),(0,c.default)(t,"".concat(G,"-rtl"),"rtl"===D),t),p),K=(0,y.default)(S);return l.createElement(v.default,{visible:!U,motionName:"".concat(G,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:b},(function(e){var t=e.className,a=e.style;return l.createElement("div",(0,o.default)({ref:I,"data-show":!U,className:(0,j.default)(F,t),style:(0,o.default)((0,o.default)({},f),a),onMouseEnter:m,onMouseLeave:h,onClick:x,role:"alert"},K),q?function(){var e=S.icon,t=(n?O:w)[H]||null;return e?(0,_.replaceElement)(e,l.createElement("span",{className:"".concat(G,"-icon")},e),(function(){return{className:(0,j.default)("".concat(G,"-icon"),(0,c.default)({},e.props.className,e.props.className))}})):l.createElement(t,{className:"".concat(G,"-icon")})}():null,l.createElement("div",{className:"".concat(G,"-content")},r?l.createElement("div",{className:"".concat(G,"-message")},r):null,n?l.createElement("div",{className:"".concat(G,"-description")},n):null),P?l.createElement("div",{className:"".concat(G,"-action")},P):null,Z?l.createElement("button",{type:"button",onClick:W,className:"".concat(G,"-close-icon"),tabIndex:0},C?l.createElement("span",{className:"".concat(G,"-close-text")},C):l.createElement(u.default,null)):null)}))};C.ErrorBoundary=k.default;var P=C;t.default=P},55764:function(e,t,n){"use strict";n.d(t,{yE:function(){return r},TH:function(){return o},Kn:function(){return c}});var a=n(42828);function r(e){return a.A.request({url:"operationLog/getAll",method:"GET",params:e})}function o(e){return a.A.request({url:"operationLog/addOpreationLog",method:"POST",data:e})}function c(){return a.A.request({url:"operationLog/getIP",method:"GET"})}},41238:function(e,t,n){"use strict";n.r(t);var a=n(4863),r=n(11187),o=n(16318),c=n(30266),s=n(809),l=n.n(s),u=n(67294),i=n(45797),d=n.n(i),p=n(5152),f=n(14707),m=n(91321),h=n(39398),x=n(55764),b=n(85893),v=(0,p.default)((function(){return Promise.resolve().then(n.bind(n,73013))}),{loadableGenerated:{webpack:function(){return[73013]},modules:["../src/components/testBank/batchUpdate/batchUpdate.tsx -> @/components/form/part/select"]}}),j=(0,p.default)((function(){return Promise.resolve().then(n.bind(n,66780))}),{loadableGenerated:{webpack:function(){return[66780]},modules:["../src/components/testBank/batchUpdate/batchUpdate.tsx -> @/components/form/part/popover"]}}),g=(0,p.default)((function(){return Promise.all([n.e(5061),n.e(7272)]).then(n.bind(n,55061))}),{loadableGenerated:{webpack:function(){return[55061]},modules:["../src/components/testBank/batchUpdate/batchUpdate.tsx -> @/components/TreeType/TreeType"]}}),y=(0,p.default)((function(){return n.e(5036).then(n.bind(n,92625))}),{loadableGenerated:{webpack:function(){return[92625]},modules:["../src/components/testBank/batchUpdate/batchUpdate.tsx -> @/components/alertCommon/alertCommon"]}}),k=(0,m.Z)({scriptUrl:"//at.alicdn.com/t/font_2981278_ol17pn9f589.js"});t.default=function(e){var t=e.ModeFlagFun,n=(0,u.useState)([]),s=n[0],i=n[1],p=(0,u.useState)(!0),m=p[0],_=p[1],B=(0,u.useState)(!0),N=B[0],w=B[1],O=(0,u.useState)(!0),C=O[0],P=O[1],S=(0,u.useState)(!0),E=S[0],M=S[1],U=(0,u.useState)(!1),T=U[0],I=U[1],L=(0,u.useState)("\u8bd5\u9898\u5206\u7c7b"),A=L[0],D=L[1],G=(0,u.useState)({difficultyLevel:"\u4e0d\u9650\u96be\u5ea6",gradeNum:0,examTypes:"4",treePerson:"4"}),W=G[0],Z=G[1];(0,u.useEffect)((function(){localStorage.getItem("testBankMode")&&"0"!==localStorage.getItem("testBankMode")?i(e.preview_changeData):i(e.selectedData)}),[]);var H=function(){return{user:localStorage.getItem("user")||"",IP:localStorage.getItem("userIp")||""}},q=(0,u.useState)("\u6279\u91cf\u4fee\u6539\u8bd5\u9898")[0],F=function(e){I(e)},K=(0,b.jsx)(g,{type:"question",getCurrentAndAncestorsTitles:function(e,t){D(e),W.examTypes=String(t),W.treePerson=String(t),Z(W)},checkoutDepartment:!0}),Q=function(){var e=(0,c.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.TH)(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var n=(0,c.Z)(l().mark((function n(){var a,c,u,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(m&&N&&C)){n.next=4;break}I(!0),n.next=20;break;case 4:return n.next=6,t(!1);case 6:if(a=[],c=[],s.map((function(e){e.paperBigQuestions.length<=0?a.push(e.id):c.push(e)})),c.length>0&&c.map((function(e){o.default.error({message:"\u4fee\u6539\u5931\u8d25",description:"\u8bd5\u9898: ".concat(e.examContent,"\u56e0\u5728\u8003\u9898\u4e2d\u88ab\u521b\u5efa,\u6545\u65e0\u6cd5\u88ab\u4fee\u6539")})})),!(a.length>0)){n.next=19;break}return n.next=13,(0,f.fP)({selectedIdData:a,testObj:W});case 13:return u=n.sent,n.next=16,e.pageTestBank({pageSize:e.defultNumber,page:e.page});case 16:u?(r.default.success("\u4fee\u6539\u6210\u529f,\u5171".concat(a.length,"\u6761\u8bb0\u5f55\u88ab\u4fee\u6539")),i="\u5171".concat(a.length,"\u6761\u8bb0\u5f55\u88ab\u4fee\u6539\u6210\u529f"),Q({operationName:H().user,IPAddress:H().IP,operationType:q,detail:i})):r.default.error("\u5bf9\u4e0d\u8d77\u4fee\u6539\u5931\u8d25"),n.next=20;break;case 19:r.default.error("\u5bf9\u4e0d\u8d77,\u6ca1\u6709\u80fd\u4fee\u6539\u7684\u6570\u636e");case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),V=(0,b.jsxs)("div",{className:d().inputBox,children:[(0,b.jsx)("input",{type:"text",readOnly:!0,value:A}),(0,b.jsxs)("button",{children:[(0,b.jsx)("span",{children:"\u9009\u62e9"}),(0,b.jsx)(h.Z,{})]})]});return(0,b.jsxs)("div",{children:[0!==s.length?(0,b.jsxs)("div",{className:d().batchUpdateBox,children:[(0,b.jsx)("p",{children:"\u8bf7\u5728\u5de6\u4fa7\u52fe\u9009\u8981\u4fee\u6539\u7684\u5b57\u6bb5"}),(0,b.jsxs)("div",{className:d().contentBox,children:[(0,b.jsxs)("div",{className:d().partBox,children:[(0,b.jsx)("input",{type:"checkbox",onClick:function(){_(!m)}}),(0,b.jsx)("span",{children:"\u8bd5\u9898\u5206\u7c7b"}),m?(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:d().inputBox,children:[(0,b.jsx)("input",{className:m&&d().disabled,disabled:m,type:"text",value:""===A?"\u8bd5\u9898\u5206\u7c7b":A}),(0,b.jsxs)("button",{children:[(0,b.jsx)("span",{children:"\u9009\u62e9"}),(0,b.jsx)(h.Z,{})]})]})}):(0,b.jsx)(j,{type:"FullBox",placement:"bottomLeft",title:V,isButton:!1,children:K})]}),(0,b.jsxs)("div",{className:d().partBox,children:[(0,b.jsx)("input",{type:"checkbox",onClick:function(){w(!N)}}),(0,b.jsx)("span",{children:"\u8bd5\u9898\u5206\u6570"}),(0,b.jsxs)("div",{className:"".concat(d().inputBox," ").concat(d().gradeInputBox),children:[(0,b.jsx)("input",{className:N?d().disabled:"",type:"text",disabled:N,defaultValue:"0.00",onBlur:function(e){var t=/^([0-9]|[0-9]\.)\d*/.test(e.target.value);M(t),t&&(W.gradeNum=+e.target.value,Z(W))}}),(0,b.jsx)("button",{children:"\u5206"})]})]}),!E&&(0,b.jsx)("div",{className:d().partBox,children:(0,b.jsx)(a.default,{style:{width:"70%",textAlign:"center",float:"right"},message:"\u8bf7\u8f93\u5165\u6570\u5b57",type:"error"})}),(0,b.jsxs)("div",{className:d().partBox,children:[(0,b.jsx)("input",{type:"checkbox",onClick:function(){P(!C)}}),(0,b.jsx)("span",{children:"\u8bd5\u9898\u96be\u6613\u5ea6"}),(0,b.jsx)(v,{disabled:C,style:{width:"70%"},data:["\u4e0d\u9650\u96be\u5ea6","\u5bb9\u6613","\u4e2d\u7b49","\u56f0\u96be"],defalutValue:"\u4e0d\u9650\u96be\u5ea6",onChange:function(e){W.difficultyLevel=e,Z(W)}})]})]}),(0,b.jsxs)("div",{className:d().alertButton,children:[(0,b.jsx)("button",{onClick:R,children:"\u6279\u91cf\u4fee\u6539"}),(0,b.jsx)("button",{onClick:function(){t(!1),r.default.warning("\u5df2\u53d6\u6d88\u4fee\u6539")},children:"\u53d6\u6d88"})]})]}):(0,b.jsxs)("div",{className:d().nullBox,children:[(0,b.jsxs)("p",{children:[(0,b.jsx)(k,{type:"icon-chahao"}),(0,b.jsx)("span",{children:"\u8bf7\u5148\u52fe\u9009\u8981\u4fee\u6539\u7684\u8bd5\u9898"})]}),(0,b.jsx)("div",{className:d().alertButton,children:(0,b.jsx)("button",{onClick:function(){t(!1)},children:"\u786e\u8ba4"})})]}),(0,b.jsx)(y,{alertStatus:T,enableDrag:!0,alertTitle:"\u63d0\u793a",changeAlertFlag:F,children:(0,b.jsxs)("div",{className:d().nullBox,children:[(0,b.jsxs)("p",{children:[(0,b.jsx)(k,{type:"icon-chahao"}),(0,b.jsx)("span",{children:"\u8bf7\u5148\u52fe\u9009\u8981\u4fee\u6539\u7684\u5b57\u6bb5"})]}),(0,b.jsx)("div",{className:d().alertButton,children:(0,b.jsx)("button",{onClick:(0,c.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!1);case 1:case"end":return e.stop()}}),e)}))),children:"\u786e\u8ba4"})})]})})]})}},45797:function(e){e.exports={batchUpdateBox:"batchUpdate_batchUpdateBox__G76Ki",contentBox:"batchUpdate_contentBox__r03CK",partBox:"batchUpdate_partBox__iH2QH",inputBox:"batchUpdate_inputBox__Nq2ap",disabled:"batchUpdate_disabled__O32RA",alertButton:"batchUpdate_alertButton__3GOWZ",nullBox:"batchUpdate_nullBox__IGSY3"}}}]);