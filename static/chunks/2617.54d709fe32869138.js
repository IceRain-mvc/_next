(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2617],{67046:function(e,t,n){"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.responsiveMap=t.responsiveArray=t.default=void 0;var u=r(n(59713)),s=r(n(67154));t.responsiveArray=["xxl","xl","lg","md","sm","xs"];var a={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};t.responsiveMap=a;var i=new Map,c=-1,l={},o={matchHandlers:{},dispatch:function(e){return l=e,i.forEach((function(e){return e(l)})),i.size>=1},subscribe:function(e){return i.size||this.register(),c+=1,i.set(c,e),e(l),c},unsubscribe:function(e){i.delete(e),i.size||this.unregister()},unregister:function(){var e=this;Object.keys(a).forEach((function(t){var n=a[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),i.clear()},register:function(){var e=this;Object.keys(a).forEach((function(t){var n=a[t],r=function(n){var r=n.matches;e.dispatch((0,s.default)((0,s.default)({},l),(0,u.default)({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}};t.default=o},41417:function(e,t,n){"use strict";n.d(t,{Dm:function(){return u},VK:function(){return s},a4:function(){return a},nG:function(){return i},zZ:function(){return c},kM:function(){return l},v4:function(){return o},bP:function(){return d},VF:function(){return f},np:function(){return m}});var r=n(42828);function u(){return r.A.request({url:"/participation-way/getExamList",method:"GET"})}function s(e){return r.A.request({url:"/exam",method:"POST",data:e})}function a(e){return r.A.request({url:"/students/get-message",method:"GET",params:e})}function i(e){return r.A.request({url:"/exam/this-exam/"+e,method:"GET"})}function c(e){return r.A.request({url:"/exam/update-exam",method:"PUT",data:e})}function l(){return r.A.request({url:"/exercise-way/getExamList",method:"GET"})}function o(e){return r.A.request({url:"/students/student-exist",method:"GET",params:e})}function d(e){return r.A.request({url:"/exercise",method:"POST",data:e})}function f(e){return r.A.request({url:"/exercise/update-exercise",method:"PUT",data:e})}function m(e){return r.A.request({url:"/exercise/this-exercise/"+e,method:"GET"})}},37215:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(42828);function u(e){return r.A.request({url:"send-email/sendCode",method:"post",data:e})}},67363:function(e,t,n){"use strict";n.d(t,{oE:function(){return s},Um:function(){return a},jl:function(){return i},IV:function(){return c},es:function(){return l},Mv:function(){return o},Ah:function(){return d},Cc:function(){return f},aQ:function(){return m},Rh:function(){return h}});var r=n(159),u=n(42828);function s(e){var t=(0,r.Z)({},e);return u.A.request({url:"students",method:"POST",data:t})}function a(e){return u.A.request({url:"students/addImportData",method:"POST",data:e})}function i(e){return u.A.request({url:"students",method:"GET",params:e})}function c(e){return u.A.request({url:"students",method:"DELETE",params:e})}function l(e){return u.A.request({url:"students",method:"DELETE",params:e})}function o(e){return u.A.request({url:"students",method:"PUT",data:e})}function d(e){return u.A.request({url:"students/updateNumber",method:"PUT",data:e})}function f(e){return u.A.request({url:"students/findByStudentNumber",method:"GET",params:e})}function m(e){return u.A.request({url:"students/batchChange",method:"PUT",data:e})}function h(e){return u.A.request({url:"students/findReturnImport",method:"POST",data:e})}},1346:function(e,t,n){"use strict";n.r(t);var r=n(2307),u=n(11187),s=n(74048),a=n(62443),i=n(65400),c=n(30266),l=n(51024),o=n(809),d=n.n(o),f=n(67294),m=n(51725),h=n.n(m),x=n(41417),p=n(5152),v=n(57239),g=n(67363),y=n(37215),_=n(85893),j=(0,p.default)((function(){return Promise.all([n.e(1619),n.e(1853)]).then(n.bind(n,1853))}),{ssr:!1,loadableGenerated:{webpack:function(){return[1853]},modules:["../src/components/exam/code/Email.tsx -> ./dynaRender"]}});t.default=function(e){var t=e.alertFlag,n=e.setFlag,o=e.examId,m=e.url,p=e.coder,b=e.exerciseId,E=(0,f.useState)(null),k=E[0],q=E[1],w=(0,f.useState)(""),A=w[0],T=w[1],N=(0,f.useState)(""),S=N[0],C=N[1],P=(0,f.useState)([]),M=P[0],O=P[1],G=(0,f.useState)(""),I=G[0],L=G[1],U=(0,f.useState)(),z=U[0],Z=U[1],V=(0,f.useState)(""),B=V[0],D=V[1],F=(0,f.useState)(""),R=F[0],H=F[1],K=(0,f.useState)(""),Q=K[0],W=K[1],X=(0,f.useState)(""),J=X[0],Y=X[1],$=(0,f.useCallback)((function(){(0,x.nG)(o).then((function(e){q(e.participationWay.partId),T(e.examPassword),C(e.examTitle),O(e.students),L(e.qrCode),2===k||3===k?Z("\u60a8\u597d\uff0c \n \u9080\u8bf7\u60a8\u53c2\u52a0\u8003\u8bd5 \u201d"+S+"\u201c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u53c2\u52a0\uff1a\n\u672c\u6b21\u8003\u8bd5\u53e3\u4ee4\uff1a"+A+"\n 1\u3001\u6253\u5f00\u94fe\u63a5\u53c2\u52a0\u8003\u8bd5\uff1a\n"+m+"\n 2.\u626b\u63cf\u4e8c\u7ef4\u7801\u53c2\u52a0\u8003\u8bd5\uff1a\n![]("+p+")"):1!==k&&4!==k||Z("\u60a8\u597d\uff0c \n \u9080\u8bf7\u60a8\u53c2\u52a0\u8003\u8bd5 \u201d"+S+"\u201c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u53c2\u52a0\uff1a\n\n 1\u3001\u6253\u5f00\u94fe\u63a5\u53c2\u52a0\u8003\u8bd5\uff1a\n"+m+"\n 2.\u626b\u63cf\u4e8c\u7ef4\u7801\u53c2\u52a0\u8003\u8bd5\uff1a\n![]("+p+")")}))}),[p,o,m,k,A,S]),ee=(0,f.useCallback)((function(){(0,x.np)(b).then((function(e){q(e.exerciseWay.partId),T(e.exercisePassword),C(e.exerciseTitle),O(e.students),L(e.qrCode),2===k||3===k?Z("\u60a8\u597d\uff0c \n \u9080\u8bf7\u60a8\u53c2\u52a0\u7ec3\u4e60 \u201d"+S+"\u201c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u53c2\u52a0\uff1a\n\u672c\u6b21\u7ec3\u4e60\u53e3\u4ee4\uff1a"+A+"\n 1\u3001\u6253\u5f00\u94fe\u63a5\u53c2\u52a0\u7ec3\u4e60\uff1a\n"+m+"\n 2.\u626b\u63cf\u4e8c\u7ef4\u7801\u53c2\u52a0\u7ec3\u4e60\uff1a\n![]("+p+")"):1!==k&&4!==k||Z("\u60a8\u597d\uff0c \n \u9080\u8bf7\u60a8\u53c2\u52a0\u7ec3\u4e60 \u201d"+S+"\u201c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u4e24\u79cd\u65b9\u5f0f\u53c2\u52a0\uff1a\n\n 1\u3001\u6253\u5f00\u94fe\u63a5\u53c2\u52a0\u7ec3\u4e60\uff1a\n"+m+"\n 2.\u626b\u63cf\u4e8c\u7ef4\u7801\u53c2\u52a0\u7ec3\u4e60\uff1a\n![]("+p+")")}))}),[p,b,m,k,A,S]),te=(0,f.useCallback)((function(){b?(console.log(1),ee()):o&&(console.log(2),$())}),[o,b,$,ee]),ne=(0,_.jsxs)("div",{children:[(0,_.jsx)(l.default,{lang:"small",onChange:function(e){Y(e.target.value)}}),(0,_.jsx)(i.default,{size:"small",style:{margin:"20px 100px"},onClick:(0,c.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J){e.next=5;break}return e.next=3,(0,g.Mv)({id:R,eMail:J,treePersonId:5});case 3:return e.next=5,$();case 5:case"end":return e.stop()}}),e)}))),children:"\u4fdd\u5b58"})]}),re={width:280},ue=[{title:"\u90ae\u7bb1",key:"eMail",render:function(e,t){return(0,_.jsxs)(s.default,{size:"middle",children:[(0,_.jsx)("span",{children:null===t.eMail?(0,_.jsx)("span",{style:{color:"red"},children:"\u6ca1\u6709\u90ae\u7bb1\u4fe1\u606f\uff0c\u8bf7\u586b\u5199"}):t.eMail}),(0,_.jsx)(a.default,{placement:"right",defaultVisible:!1,content:ne,trigger:"click",overlayStyle:re,children:(0,_.jsx)("a",{onClick:function(){H(t.id)},children:"\u4fee\u6539"})})]})}},{title:"\u59d3\u540d",dataIndex:"studentName",key:"studentName"},{title:"\u8d26\u53f7",dataIndex:"studentNumber",key:"studentNumber"},{title:"\u6240\u5c5e\u7ec4\u7ec7",dataIndex:"\u632f\u6d9b",key:""}],se=function(){var e=(0,c.Z)(d().mark((function e(t){var n,r,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),""!==B){e.next=7;break}return n=z.split("![")[0],e.next=5,(0,y.l)({studentsList:t,textBefore:n,examCoder:I,textAfter:""}).then((function(e){u.default.success(e)}));case 5:e.next=11;break;case 7:return r=B.split("![")[0],s=B.split(")")[1],e.next=11,(0,y.l)({studentsList:t,textBefore:r,examCoder:I,textAfter:s}).then((function(e){u.default.success(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,c.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!==k){e.next=7;break}return t=[],M.forEach((function(e){t.push(e.eMail)})),e.next=5,se(t);case 5:e.next=9;break;case 7:return e.next=9,se(Q);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){te()}),[te]),(0,_.jsx)("div",{className:h().sendEmail,style:{display:t?"block":"none"},children:(0,_.jsxs)("div",{className:h().email_title,children:[(0,_.jsx)("div",{className:h().tit,children:o?"\u53d1\u9001\u8003\u8bd5\u901a\u77e5":"\u53d1\u9001\u7ec3\u4e60\u901a\u77e5"}),(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{className:h().left,children:"\u90ae\u4ef6\u6807\u9898"}),(0,_.jsx)("li",{className:h().right,children:(0,_.jsxs)("div",{className:h().email_head,children:[o?"\u3010\u8003\u8bd5\u901a\u77e5\u3011- \u8bf7\u53c2\u52a0\u8003\u8bd5":"\u3010\u7ec3\u4e60\u901a\u77e5\u3011- \u8bf7\u53c2\u52a0\u7ec3\u4e60"," \u201d",S,"\u201c"]})}),(0,_.jsx)("li",{className:h().left,children:"\u90ae\u4ef6\u5185\u5bb9"}),(0,_.jsx)("li",{className:h().right,children:(0,_.jsx)("div",{className:h().code,children:(0,_.jsx)(j,{style:{height:300},data:z,changeValue:function(e){D(e)}})})}),(0,_.jsx)("li",{className:h().left,children:4===k?"\u6536\u4ef6\u4eba\u5217\u8868":"\u6536\u4ef6\u4eba\u90ae\u7bb1"}),(0,_.jsxs)("li",{className:h().right,children:[(0,_.jsx)("p",{style:{color:"#737373"},children:4===k?"":'\u591a\u4e2a\u90ae\u7bb1\u4ee5\u9017\u53f7","\u9694\u5f00\uff0c\u5982\uff1aa@qq.com,b@sina.com'}),4===k?(0,_.jsx)(r.default,{columns:ue,dataSource:M,rowKey:"id",pagination:!1,bordered:!0}):(0,_.jsx)(v.default,{style:{padding:"0 4px"},cols:163,rows:6,onChange:function(e){W(e.target.value)}})]})]}),(0,_.jsxs)("div",{className:h().Email_foot,children:[(0,_.jsx)(i.default,{type:"primary",style:{margin:"10px"},onClick:ae,children:"\u53d1\u9001"}),(0,_.jsx)(i.default,{type:"primary",style:{margin:"10px"},onClick:function(){n(!1)},children:"\u5173\u95ed"})]})]})})}},51725:function(e){e.exports={sendEmail:"email_sendEmail__mBMFv",email_title:"email_email_title__njoUR",tit:"email_tit__zV5fK",left:"email_left__SQCSe",right:"email_right__ZPhXO",email_head:"email_email_head__OUnGu",Email_foot:"email_Email_foot__mxcfO"}},159:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})}}]);