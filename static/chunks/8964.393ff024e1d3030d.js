(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8964],{98579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(30266),r=n(809),i=n.n(r),s=n(5152),o=n(59396),u=n.n(o),c=n(16664),d=n(39398),l=n(56299),f=n(85060),p=n(42828);function m(e){return p.A.request({url:"analyseExamine/findData",method:"GET",params:e})}function x(e){return p.A.request({url:"analyseExamine/getExamMulti",method:"GET",params:e})}var h=n(67294),g=n(62704),_=n(11187),w=n(84723),S=n(31518),j=n(85893),b=(0,s.default)((function(){return n.e(4703).then(n.bind(n,94703))}),{loadableGenerated:{webpack:function(){return[94703]},modules:["../src/analyse/examination/demand.tsx -> @component/commonTable/commonTable"]}}),v=(0,s.default)((function(){return Promise.all([n.e(5061),n.e(3220)]).then(n.bind(n,55061))}),{loadableGenerated:{webpack:function(){return[55061]},modules:["../src/analyse/examination/demand.tsx -> @component/TreeType/TreeType"]}}),k=(0,s.default)((function(){return n.e(3426).then(n.bind(n,83426))}),{loadableGenerated:{webpack:function(){return[83426]},modules:["../src/analyse/examination/demand.tsx -> ../popup"]}}),T=(0,s.default)((function(){return n.e(1162).then(n.bind(n,51162))}),{loadableGenerated:{webpack:function(){return[51162]},modules:["../src/analyse/examination/demand.tsx -> ./component/export/popout"]}}),C=function(){var e=(0,h.useState)(null)[0],t=(0,h.useState)("\u8003\u8bd5\u5206\u7c7b"),n=t[0],r=t[1],s=(0,h.useState)([]),o=s[0],p=s[1],C=(0,h.useState)(!1),y=C[0],I=C[1],N=(0,h.useState)(""),z=N[0],E=N[1],L=(0,h.useState)(""),A=(L[0],L[1]),G=(0,h.useState)(""),Z=G[0],P=G[1],q=(0,h.useState)(null),D=q[0],M=q[1],O=(0,h.useState)(1),F=O[0],B=O[1],W=(0,h.useState)(5),K=W[0],R=W[1],U=(0,h.useState)(),V=U[0],Y=U[1],H=(0,h.useState)(""),J=H[0],Q=H[1],X=(0,h.useState)(0),$=X[0],ee=X[1],te=(0,h.useState)(!1),ne=te[0],ae=te[1],re=(0,h.useState)([]),ie=re[0],se=re[1],oe=(0,h.useState)(!0),ue=oe[0],ce=oe[1],de=function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,m(t).then((function(e){e&&(Y(e.res[0]),ee(e.res[1]),ce(!1),e.res[0].map((function(t){e.list.data[0].map((function(e){de({studentId:e.id,examId:t.examId})}))})))})).catch((function(){}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=(0,j.jsxs)("div",{children:[(0,j.jsx)(c.Z,{}),(0,j.jsx)("span",{children:n&&n}),(0,j.jsx)(d.Z,{})]}),pe=(0,j.jsx)(v,{type:"exam",getCurrentAndAncestorsTitles:function(t,n,a){p(a),r(t.split("/")[t.split("/").length-1]),B(1),clearTimeout(e),e=setTimeout((function(){le({page:F,pageSize:K,time:D,search:Z,idList:a})}),500)},openSelectChildren:!0,selectNodeList:function(e){console.log(e)}}),me=function(e){if(e){var t=new Date(e);return e.slice(0,e.indexOf("T"))+" "+t.toTimeString().split(" ")[0]}return""},xe=[{id:"1",title:"\u8003\u8bd5\u540d\u79f0",dataIndex:"examTitle"},{id:"2",title:"\u5f00\u59cb\u65f6\u95f4/\u7ed3\u675f\u65f6\u95f4",width:"15%",render:function(e,t){return(0,j.jsxs)("span",{children:[me(t&&t.examConfig.startDateTime),"\uff5e",me(t&&t.examConfig.endDateTime)]})}},{id:"3",title:"\u8003\u8bd5\u65b9\u5f0f",render:function(e,t){return(0,j.jsx)("span",{children:t&&t.participationWay.partTitle})}},{id:"4",title:"\u53c2\u52a0\u4eba\u6b21",render:function(){return(0,j.jsx)("span",{})}},{id:"5",title:"\u53ca\u683c\u4eba\u6b21",dataIndex:"participants"},{id:"6",title:"\u53ca\u683c\u7387",dataIndex:"exercises"},{id:"7",title:"\u6b63\u786e\u7387",dataIndex:"Average"},{id:"8",title:"\u5f97\u5206\u7387",dataIndex:"Scoring"},{id:"9",title:"\u5e73\u5747\u5206",dataIndex:"Correct"},{id:"10",title:"\u6700\u9ad8\u5206",dataIndex:"errors"},{id:"11",title:"\u6700\u4f4e\u5206",dataIndex:"Lowest"},{id:"12",title:"\u5206\u6790",render:function(e){return(0,j.jsxs)("div",{className:u().lc,children:[(0,j.jsx)("a",{onClick:function(){I(!y),E("1"),Q(e&&e.id)},href:"#",children:"\u8003\u751f\u6210\u7ee9"}),(0,j.jsx)("a",{onClick:function(){I(!y),E("4"),Q(e&&e.id)},href:"#",children:"\u6210\u7ee9\u7edf\u8ba1"})]})}}],he=function(){I(!y)};(0,h.useEffect)((function(){le({})}),[]);var ge=function(){ae(!ne)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g.default,{children:[(0,j.jsxs)("div",{className:u().header,children:[(0,j.jsx)(l.Z,{}),(0,j.jsx)("span",{children:"\u8003\u8bd5\u6210\u7ee9"})]}),(0,j.jsx)(g.Content,{children:(0,j.jsxs)("div",{className:u().tops,children:[(0,j.jsxs)("div",{className:u().aaa,children:[(0,j.jsx)(w.default,{PoContent:pe,PoTitle:fe&&fe,onClick:function(){le({page:F,pageSize:K}),r("\u8003\u8bd5\u5206\u7c7b")},onFinish:function(){var e=(0,a.Z)(i().mark((function e(t){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.search,a=t.date,A(n),P(n),M(t.data),n||a?le({page:F,pageSize:K,time:t.date,search:n,idList:o}):_.default.error("\u6ca1\u6709\u67e5\u8be2\u4fe1\u606f"),n&&console.log("change\u4e8b\u4ef6\u89e6\u53d1\u4e86");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,j.jsx)("div",{className:u().dao,children:(0,j.jsxs)(S.ButtonCommon,{onClick:function(){ae(!ne)},type:"none",children:[(0,j.jsx)(f.Z,{}),(0,j.jsx)("span",{className:u().cha,children:"\u5bfc\u51fa"})]})})]}),(0,j.jsx)("div",{className:u().context,children:(0,j.jsx)(b,{data:V&&V,columns:xe&&xe,isCheckout:!0,dataCount:$&&$,loading:ue,rowKeyId:"id",onSelectChange:function(e){se(e)},pageSizeOptions:["5","10","20","100"],onChangeTable:function(e){B(e.current),R(e.pageSize),le({page:e.current,pageSize:e.pageSize,idList:o})},current:F&&F,pageSize:K&&K})})]})})]}),y&&!0===y&&(0,j.jsx)(k,{Transfer:he&&he,id:z&&z,distinction:"1",identification:J&&J}),ne&&!0===ne&&(0,j.jsx)(T,{id:"1",boxes:ie&&ie,list:V&&V,matrix:ge&&ge})]})}},42828:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var a=n(11187),r=n(9669),i=n.n(r),s=n(11163),o=["login","register"],u=i().create({baseURL:"http://110.40.139.133:4001/api/v1",timeout:1e5});u.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(){throw new Error("\u53d1\u8d77\u8bf7\u6c42\u51fa\u9519")})),u.interceptors.response.use((function(e){if(e.status&&200===e.status&&"error"===e.data.status)return a.default.error({message:e.data.msg}),null;var t=e.data;return t.success?t.data:(a.default.error(t.msg),null)}),(function(e){if(e&&e.response&&e.response.status){switch(e.response.status){case 504:case 404:a.default.error("\u670d\u52a1\u5668\u5f02\u5e38");break;case 403:a.default.warn("\u8bbf\u5ba2\u65e0\u6743\u8fdb\u884c\u8be5\u64cd\u4f5c");break;case 401:a.default.info("\u8bf7\u91cd\u65b0\u767b\u5f55"),function(){var e=s.default.pathname,t=s.default.asPath;o.some((function(t){return e.includes(t)}))||(o.some((function(e){return t.includes(e)}))?s.default.push("/login"):s.default.push("/login?redirect=".concat(t)))}();break;case 422:a.default.info("\u4e0a\u4f20\u6210\u529f");break;case 500:a.default.info("\u670d\u52a1\u5668\u5185\u90e8\u51fa\u9519");break;default:a.default.error(e.response&&e.response.data&&e.response.data.msg||"\u672a\u77e5\u9519\u8bef!")}}return Promise.reject(e)}))},59396:function(e){e.exports={tops:"examination_tops__87Mmh",header:"examination_header___L5MG",www:"examination_www__DOGPL",mailbox:"examination_mailbox__0uxw_",context:"examination_context__vu2Of",lc:"examination_lc__3lpeL",aaa:"examination_aaa__YMqwc",dao:"examination_dao__SViq1",cha:"examination_cha__SAgWs",mark:"examination_mark__wFPZg"}}}]);